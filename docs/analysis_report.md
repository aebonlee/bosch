# 🏭 Bosch Production Line Performance 실제 데이터 분석 결과

## 📊 데이터셋 개요

### 전체 데이터 규모
- **Train 데이터**: 1,183,747개 제품
- **Test 데이터**: 1,183,748개 제품
- **총 데이터 크기**: 약 15GB (압축 해제 후)

### 데이터 유형별 구성
| 데이터 유형 | Train 크기 | Test 크기 | 특징 수 |
|------------|-----------|----------|--------|
| Numeric | 2,040MB | 2,038MB | 970개 |
| Categorical | 2,554MB | 2,554MB | 2,141개 |
| Date | 2,759MB | 2,759MB | 1,157개 |

## 🎯 핵심 발견사항

### 1. 극도로 불균형한 데이터
- **불량률**: 0.57% (100개 중 약 1개만 불량품)
- **불균형 비율**: 1:175 (정상품 175개당 불량품 1개)
- **클래스 분포**:
  - 정상품 (0): 99,432개 (99.43%)
  - 불량품 (1): 568개 (0.57%)

### 2. 높은 결측값 비율
- **전체 특징 수**: 968개 (숫자형 데이터 기준)
- **90% 이상 결측**: 634개 특징 (65.5%)
- **50% 이상 결측**: 812개 특징 (83.9%)
- **결측값 없음**: 2개 특징만 (0.2%)

### 3. 생산 라인 구조 분석
총 **50개의 측정 스테이션** 발견:

#### 주요 스테이션별 특징 수
1. **L1_S25**: 284개 특징 (결측률: 98.9%)
2. **L1_S24**: 229개 특징 (결측률: 96.7%)
3. **L3_S30**: 68개 특징 (결측률: 18.1%)
4. **L3_S29**: 53개 특징 (결측률: 5.9%)
5. **L0_S21-S23**: 각 14개 특징 (결측률: 93%)

## 🛠️ 특징 공학 결과

### 생성된 42개 집계 특징
1. **기본 통계**: count_non_null, missing_ratio, mean, std, min, max, etc.
2. **스테이션별 통계**: 상위 10개 스테이션의 mean, count, std
3. **파생 특징**: range, zeros_count 등

### 상위 10개 중요 특징 (불량품과의 상관관계)
| 순위 | 특징명 | 상관계수 | 의미 |
|------|--------|----------|------|
| 1 | L2_S28_std | -0.03785 | 28번 스테이션 표준편차 (음의 상관) |
| 2 | L1_S25_mean | +0.02466 | 25번 스테이션 평균값 (양의 상관) |
| 3 | count_zeros | -0.02150 | 0값 개수 (음의 상관) |
| 4 | L2_S28_mean | +0.02141 | 28번 스테이션 평균값 (양의 상관) |
| 5 | L1_S24_count | +0.01897 | 24번 스테이션 측정 개수 (양의 상관) |
| 6 | L1_S24_mean | -0.01794 | 24번 스테이션 평균값 (음의 상관) |
| 7 | L3_S29_mean | +0.01526 | 29번 스테이션 평균값 (양의 상관) |
| 8 | L0_S21_mean | -0.01521 | 21번 스테이션 평균값 (음의 상관) |
| 9 | min | +0.01497 | 최솟값 (양의 상관) |
| 10 | L2_S26_count | +0.01428 | 26번 스테이션 측정 개수 (양의 상관) |

## 📈 정상품 vs 불량품 비교 분석

### 주요 차이점
| 특징 | 정상품 평균 | 불량품 평균 | 차이 | 비율 |
|------|-------------|-------------|------|------|
| count_non_null | 182.584 | 182.701 | +0.117 | 1.001 |
| missing_ratio | 0.811 | 0.811 | -0.000 | 1.000 |
| mean | 0.000 | 0.001 | +0.001 | 10.684 |
| std | 0.120 | 0.121 | +0.001 | 1.009 |
| range | 0.949 | 0.941 | -0.008 | 0.992 |

**핵심 관찰**:
- 불량품과 정상품 간의 차이는 매우 미묘함
- 측정값의 **평균**에서 가장 큰 차이 (10배 이상)
- 결측 패턴은 거의 동일

## 💡 핵심 인사이트

### 1. 데이터 특성
- **희소성**: 대부분의 측정값이 비어있음 (90% 이상)
- **복잡성**: 50개 스테이션에서 다양한 측정 수행
- **불균형**: 극도로 희귀한 불량 사건

### 2. 불량 예측의 어려움
- **신호 약함**: 상관계수 최고값도 0.04 미만
- **노이즈 많음**: 높은 결측률로 인한 정보 손실
- **클래스 불균형**: 학습 데이터 부족

### 3. 중요한 스테이션들
- **L1_S24, L1_S25**: 가장 많은 특징, 높은 예측 중요도
- **L2_S28**: 가장 강한 예측 신호
- **L3_S29, L3_S30**: 상대적으로 낮은 결측률

## 🚀 추천 모델링 전략

### 1. 데이터 전처리
```python
# 불균형 처리
- SMOTE 오버샘플링
- 클래스 가중치 조정
- 앙상블 밸런싱

# 특징 선택
- 90% 이상 결측 특징 제거
- 분산 기반 필터링
- 상관관계 기반 선택
```

### 2. 모델 선택
- **XGBoost**: 불균형 데이터에 강함
- **LightGBM**: 빠른 학습 속도
- **CatBoost**: 범주형 데이터 처리 우수

### 3. 평가 전략
- **주 지표**: Matthews Correlation Coefficient (MCC)
- **보조 지표**: F1-Score, AUC-ROC
- **교차 검증**: Stratified K-Fold (k=5)

### 4. 고급 기법
```python
# 앙상블 방법
- 스태킹: 다양한 모델 조합
- 배깅: 부트스트랩 샘플링
- 부스팅: 오류 집중 학습

# 특징 공학
- 시계열 특징 (날짜 데이터 활용)
- 상호작용 특징 (스테이션 간)
- 클러스터링 기반 특징
```

## 📋 다음 단계 작업

### 단기 목표 (1-2주)
1. **날짜 데이터 분석**: 시간적 패턴 발견
2. **범주형 데이터 처리**: 인코딩 및 특징 추출
3. **베이스라인 모델**: 간단한 XGBoost 모델 구축

### 중기 목표 (1개월)
1. **고급 특징 공학**: 도메인 지식 활용
2. **하이퍼파라미터 튜닝**: Optuna 활용
3. **앙상블 모델**: 여러 모델 조합

### 장기 목표 (2-3개월)
1. **딥러닝 접근**: AutoEncoder, LSTM 등
2. **이상 탐지**: Isolation Forest, One-Class SVM
3. **실시간 예측**: 스트리밍 데이터 처리

## 🎯 예상 성과

### 성능 목표
- **MCC**: 0.3 이상 (매우 도전적)
- **Precision**: 0.5 이상 (오탐 최소화)
- **Recall**: 0.7 이상 (누락 최소화)

### 비즈니스 가치
- **비용 절감**: 불량품 조기 발견으로 20% 손실 감소
- **품질 향상**: 불량률 50% 감소 목표
- **효율성**: 검사 시간 30% 단축

---

**분석 수행**: Claude Code를 활용한 실제 데이터 분석
**분석 시간**: 74.5초 (100,000개 샘플)
**생성 파일**: analysis_summary.txt, engineered_features_sample.csv